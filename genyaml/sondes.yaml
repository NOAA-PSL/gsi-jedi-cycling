obs space:
  name: sondes
  distribution:
    !INC distribution.yaml
  obsdatain:
    engine: 
      type: H5File
      obsfile: $(OBSINFILE)
    obsgrouping:
      group variables: ["station_id"]
      sort variable: "air_pressure"
      sort order: "descending"
  obsdataout:
    engine:
      type: H5File
      obsfile: $(OBSOUTFILE)
  io pool:
    max pool size: 1
  simulated variables: [air_temperature, eastward_wind, northward_wind, specific_humidity]
obs operator:
  name: Composite
  components:
   - name: VertInterp
     variables:
     - name: air_temperature
     - name: eastward_wind
     - name: northward_wind
     - name: specific_humidity
linear obs operator:
  name: Composite
  components:
   - name: VertInterp
     variables:
     - name: air_temperature
     - name: eastward_wind
     - name: northward_wind
     - name: specific_humidity
obs filters:
  #
  # Reject all obs with PreQC mark already set above 3
  - filter: PreQC
    maxvalue: 3.0
    action:
      name: reject
obs localizations:
  - localization method: Horizontal Gaspari-Cohn
    lengthscale: 1250e3
    max nobs: 10000
